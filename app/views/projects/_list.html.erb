<% if params[:user_id] %>
  <h1><%= User.find(params[:user_id]).username %>'s projects</h1>
<% else %>
  <h1>All Projects</h1>
<% end %>

<% if projects.empty? %>
  <p>There are no projects to show</p>
<% else %>
  <table>
    <thead>
      <tr>
        <th>Project Name</th>
        <th>Due Date</th>
        <th>Details</th>
        <% if current_user.is_admin? %>
          <th>Action</th>
        <% end %>
      </tr>
    </thead>
    <tbody>
      <p><%= projects.each do |project| %></p>
      <tr>
        <td><%= project.name %></td>
        <td><%= nice_date_format project %></td>
        <td><%= link_to "Show", project_path(project) %></td>
        <% if current_user.is_admin? %>
          <td><%= link_to "Edit", edit_project_path(project) %></td>
        <% end %>
      <% end %>
      </tr>
    </tbody>
  </table>
<% end %>
